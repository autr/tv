import{S as t,i as e,s as i,e as a,c as n,a as o,d as s,b as r,f as l,F as d,z as c,a2 as h,a3 as u,L as f,k as m,n as p,E as $,v as g,r as v,G as w,O as y,A as x,$ as A,M as b,j as E,m as k,o as N,p as I,q as j,N as S,w as V,D,I as O,R as P,t as C,g as Y,a4 as T,l as M,B as R,u as B,J as H,P as z,h as G,Q as L}from"./vendor-5b15c0f4.js";import{u as Q}from"./utils-0a0b9476.js";import{a as U,s as F,c as K,e as q,d as J,f as W}from"./stores-3d2adcb0.js";import{A as X}from"./All.wc-40d741d4.js";function Z(t){let e;return{c(){e=a("span"),this.h()},l(t){e=n(t,"SPAN",{class:!0,id:!0}),o(e).forEach(s),this.h()},h(){r(e,"class","fill vimeo"),r(e,"id",t[1])},m(i,a){l(i,e,a),t[17](e)},p(t,[i]){2&i&&r(e,"id",t[1])},i:d,o:d,d(i){i&&s(e),t[17](null)}}}function _(t){console.log("PLAY!!!")}function tt(t,e,i){let a,n,o,{file:s}=e,{autohide:r=!1}=e,{format:l=""}=e,{hidden:d=!!r}=e,{paused:m=!0}=e,{autoplay:p=!1}=e,{muted:$=!0}=e,{loop:g=!0}=e,{root:v=null}=e,{orientation:w}=e,{width:y=1280}=e,{height:x=720}=e,{ratio:A}=e,{class:b=""}=e,{style:E=""}=e;return c((async t=>{if(n)return;n=new h(o,{url:s.url,background:!1,width:"100%",height:800,color:"#333",dnt:!0}),await n.on("play",_);const e=await n.getVideoTitle();i(2,y=await n.getVideoWidth()),i(3,x=await n.getVideoHeight()),i(4,A=x/y*100),console.log("[vimeo] getting dimensions",{title:e,width:y,height:x})})),u((async t=>{if(!n)return;const e=await n.destroy();console.log("DESTROY!",e)})),t.$$set=t=>{"file"in t&&i(5,s=t.file),"autohide"in t&&i(6,r=t.autohide),"format"in t&&i(7,l=t.format),"hidden"in t&&i(8,d=t.hidden),"paused"in t&&i(9,m=t.paused),"autoplay"in t&&i(10,p=t.autoplay),"muted"in t&&i(11,$=t.muted),"loop"in t&&i(12,g=t.loop),"root"in t&&i(13,v=t.root),"orientation"in t&&i(14,w=t.orientation),"width"in t&&i(2,y=t.width),"height"in t&&i(3,x=t.height),"ratio"in t&&i(4,A=t.ratio),"class"in t&&i(15,b=t.class),"style"in t&&i(16,E=t.style)},t.$$.update=()=>{t.$$.dirty,64&t.$$.dirty&&i(1,a=r||"vimeo-player-untitled")},[o,a,y,x,A,s,r,l,d,m,p,$,g,v,w,b,E,function(t){f[t?"unshift":"push"]((()=>{o=t,i(0,o)}))}]}class et extends t{constructor(t){super(),e(this,t,tt,Z,i,{file:5,autohide:6,format:7,hidden:8,paused:9,autoplay:10,muted:11,loop:12,root:13,orientation:14,width:2,height:3,ratio:4,class:15,style:16})}}function it(t){let e,i,a,n,o;const s=[t[17]];function r(e){t[31](e)}function l(e){t[32](e)}function d(e){t[33](e)}let c={};for(let h=0;h<s.length;h+=1)c=x(c,s[h]);return void 0!==t[3]&&(c.width=t[3]),void 0!==t[4]&&(c.height=t[4]),void 0!==t[5]&&(c.ratio=t[5]),e=new et({props:c}),f.push((()=>b(e,"width",r))),f.push((()=>b(e,"height",l))),f.push((()=>b(e,"ratio",d))),{c(){E(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,i){N(e,t,i),o=!0},p(t,o){const r=131072&o[0]?I(s,[j(t[17])]):{};!i&&8&o[0]&&(i=!0,r.width=t[3],S((()=>i=!1))),!a&&16&o[0]&&(a=!0,r.height=t[4],S((()=>a=!1))),!n&&32&o[0]&&(n=!0,r.ratio=t[5],S((()=>n=!1))),e.$set(r)},i(t){o||(g(e.$$.fragment,t),o=!0)},o(t){v(e.$$.fragment,t),o=!1},d(t){V(e,t)}}}function at(t){let e,i,c,h,u,f,m,p=!0;return{c(){e=a("video"),this.h()},l(t){e=n(t,"VIDEO",{class:!0,poster:!0,width:!0,height:!0,src:!0,muted:!0,autoplay:!0,loop:!0,preload:!0,controls:!0,title:!0,alt:!0}),o(e).forEach(s),this.h()},h(){r(e,"class","embed fill w100pc h-auto z-index66"),r(e,"poster",i=t[7]?lt:t[9]),r(e,"width",t[3]),r(e,"height",t[4]),e.src!==(c=t[7]?lt:t[8])&&r(e,"src",c),e.muted=h=!t[15],e.autoplay=t[6],e.loop=t[1],r(e,"preload",u=t[7]?"none":"auto"),e.controls=!1,r(e,"title",t[11]),r(e,"alt",t[12]),D(e,"active",!t[7]),D(e,"playing",!t[0]),D(e,"paused",t[0])},m(i,a){l(i,e,a),f||(m=[O(e,"play",t[30]),O(e,"pause",t[30])],f=!0)},p(t,a){640&a[0]&&i!==(i=t[7]?lt:t[9])&&r(e,"poster",i),8&a[0]&&r(e,"width",t[3]),16&a[0]&&r(e,"height",t[4]),384&a[0]&&e.src!==(c=t[7]?lt:t[8])&&r(e,"src",c),32768&a[0]&&h!==(h=!t[15])&&(e.muted=h),64&a[0]&&(e.autoplay=t[6]),2&a[0]&&(e.loop=t[1]),128&a[0]&&u!==(u=t[7]?"none":"auto")&&r(e,"preload",u),2048&a[0]&&r(e,"title",t[11]),4096&a[0]&&r(e,"alt",t[12]),1&a[0]&&p!==(p=t[0])&&e[p?"pause":"play"](),128&a[0]&&D(e,"active",!t[7]),1&a[0]&&D(e,"playing",!t[0]),1&a[0]&&D(e,"paused",t[0])},i:d,o:d,d(t){t&&s(e),f=!1,P(m)}}}function nt(t){let e,i;return{c(){e=a("img"),this.h()},l(t){e=n(t,"IMG",{class:!0,width:!0,height:!0,src:!0,title:!0,alt:!0}),this.h()},h(){r(e,"class","embed fill w100pc h-auto"),r(e,"width",t[3]),r(e,"height",t[4]),e.src!==(i=t[7]?lt:t[9])&&r(e,"src",i),r(e,"title",t[11]),r(e,"alt",t[12]),D(e,"active",!t[7])},m(t,i){l(t,e,i)},p(t,a){8&a[0]&&r(e,"width",t[3]),16&a[0]&&r(e,"height",t[4]),640&a[0]&&e.src!==(i=t[7]?lt:t[9])&&r(e,"src",i),2048&a[0]&&r(e,"title",t[11]),4096&a[0]&&r(e,"alt",t[12]),128&a[0]&&D(e,"active",!t[7])},i:d,o:d,d(t){t&&s(e)}}}function ot(t){let e,i;return{c(){e=a("div"),i=C(rt),this.h()},l(t){e=n(t,"DIV",{class:!0});var a=o(e);i=Y(a,rt),a.forEach(s),this.h()},h(){r(e,"class","fill flex row-center-center")},m(t,a){l(t,e,a),$(e,i)},p:d,i:d,o:d,d(t){t&&s(e)}}}function st(t){let e,i,d,c,h,u,f,w;const y=[ot,nt,at,it],x=[];var A;return~(i=(A=t)[16]("image")?1:A[16]("video")?2:A[16]("vimeo")?3:-1)&&(d=x[i]=y[i](t)),{c(){e=a("span"),d&&d.c(),c=m(),h=a("canvas"),this.h()},l(t){e=n(t,"SPAN",{class:!0,style:!0});var i=o(e);d&&d.l(i),c=p(i),h=n(i,"CANVAS",{class:!0,width:!0,height:!0}),o(h).forEach(s),i.forEach(s),this.h()},h(){r(h,"class","hidden w100pc h-auto"),r(h,"width",t[3]),r(h,"height",t[4]),r(e,"class",u=Object.values(t[14]).join(" ")),r(e,"style",f=`${t[2]};${t[13]};`)},m(a,n){l(a,e,n),~i&&x[i].m(e,null),$(e,c),$(e,h),t[34](e),w=!0},p(t,i){d&&d.p(t,i),(!w||8&i[0])&&r(h,"width",t[3]),(!w||16&i[0])&&r(h,"height",t[4]),(!w||16384&i[0]&&u!==(u=Object.values(t[14]).join(" ")))&&r(e,"class",u),(!w||8196&i[0]&&f!==(f=`${t[2]};${t[13]};`))&&r(e,"style",f)},i(t){w||(g(d),w=!0)},o(t){v(d),w=!1},d(a){a&&s(e),~i&&x[i].d(),t[34](null)}}}let rt=null;const lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function dt(t,e){var i=e||"/",a=new RegExp(i+"{1,}","g");return t.join(i).replace(a,i)}function ct(t,e,i){let a,n,o,s,r,l,d,h,u,m,p,$;w(t,U,(t=>i(6,h=t))),w(t,F,(t=>i(26,u=t))),w(t,K,(t=>i(27,m=t))),w(t,q,(t=>i(37,p=t))),w(t,J,(t=>i(15,$=t)));let g,v,b=Q.browser,{file:E}=e,{autohide:k=!1}=e,{format:N=""}=e,{loop:I=!0}=e,{threshold:j=.75}=e,{orientation:S=null}=e,{paused:V=!h}=e,{root:D}=e,{force:O=!1}=e,P=!!b&&Q.device(),{class:C=""}=e,{style:Y=""}=e,T=!!k;function M(t,e){t&&e&&i(18,S=t>=e?"portrait":"landscape")}let R=!1;c((async t=>{R=!0,setTimeout((t=>W()),100)}));let B=null,H=null,z=null;let G,L;function W(t,e){if(!b||!k||!R)return;L&&(clearTimeout(L),L=null);const a=(null==G?void 0:G.getBoundingClientRect())||{},n=-window.innerHeight,o=-1*a.y>a.height-n,s=a.y>window.innerHeight-n;i(7,T=o||s),L=setTimeout((t=>{const e=(null==m?void 0:m.id)||"undefined-centroid",n=(null==m?void 0:m.center)||999999999,o=Math.abs(a.y+a.height/2-window.innerHeight/2);k==e&&o!=n&&y(K,m={center:o,id:k,title:E.title},m),o<n&&e!=k&&(console.log(`[PostItem] ✨☯️✨  switching to new centroid "${k}" with size: ${B}/${H} (${z}), from position ${o} ${n}`,{vidSrc:g,posterSrc:v}),y(K,m={center:o,id:k,title:E.title},m)),l&&i(0,V=m.id!=k||!h)}),20)}return t.$$set=t=>{i(17,e=x(x({},e),A(t))),"file"in t&&i(19,E=t.file),"autohide"in t&&i(20,k=t.autohide),"format"in t&&i(21,N=t.format),"loop"in t&&i(1,I=t.loop),"threshold"in t&&i(22,j=t.threshold),"orientation"in t&&i(18,S=t.orientation),"paused"in t&&i(0,V=t.paused),"root"in t&&i(23,D=t.root),"force"in t&&i(24,O=t.force),"class"in t&&i(25,C=t.class),"style"in t&&i(2,Y=t.style)},t.$$.update=()=>{var e;4194336&t.$$.dirty[0]&&M(z,j),524288&t.$$.dirty[0]&&async function(t){if((null==E?void 0:E.basename)&&(null==E?void 0:E.location)){D||console.error("[media] no root is set!");const t=E.basename,e=t.lastIndexOf("."),a=t.slice(0,e),n=t.slice(e);let o=N;const s=Q.extractDimensions(E);if(i(3,B=parseInt(o.split("x")[0])),i(4,H=parseInt(o.split("x")[1])),0==B?(i(5,z=s.ratio),i(3,B=H/z)):0==H?(i(5,z=s.ratio),i(4,H=B*z)):isNaN(B)||isNaN(H)?(i(3,B=s.width),i(4,H=s.height),i(5,z=s.ratio)):i(5,z=1),M(z,j),(null==o?void 0:o.length)>0&&(o="."+o),p.api&&""!=p.api&&p.copy){const t=dt([p.project,p.assets,D]),e=dt(["/media/",E.location.name]),s=a+o+n,r=a+n,l=`?copy=${dt([t,r])}`,d=`?copy=${dt([t,s])}`,c="/"==p.api.substring(p.api.length-1)?p.api.substring(0,p.api.length-1):p.api;i(8,g=c+dt([e,r+l])),i(9,v=c+dt([e,s+d])),O&&(await fetch(g),await fetch(v))}else i(8,g=dt([D,a+n])),i(9,v=dt([D,a+o+n]))}}(),524288&t.$$.dirty[0]&&i(11,a=E.title),1572864&t.$$.dirty[0]&&i(12,n=(null==E?void 0:E.title)||k||(null==E?void 0:E.basename)||""),524288&t.$$.dirty[0]&&i(28,o=function(t){if(!(null==E?void 0:E.vibrant))return{};let e={};for(const[i,a]of Object.entries(E.vibrant))e[i.toLowerCase()]=`rgb(${a.rgb.join(",")})`;return e}()),64&t.$$.dirty[0]&&(e=h,m.id==k&&l&&i(0,V=!e)),201326592&t.$$.dirty[0]&&W(),268435456&t.$$.dirty[0]&&i(29,s=(null==o?void 0:o.vibrant)||"var(--color)"),536870912&t.$$.dirty[0]&&i(13,r=`background-image: linear-gradient(to top left, transparent 0%, transparent calc(50% - var(--stroke-width)), ${s} 50%, transparent calc(50% + var(--stroke-width)), transparent 100%), linear-gradient(to top right, transparent 0%, transparent calc(50% - var(--stroke-width)), ${s} 50%, transparent calc(50% + var(--stroke-width)), transparent 100%);box-shadow:inset 0px 0px 0px 1px ${s}`),135266368&t.$$.dirty[0]&&h&&m.id,34340920&t.$$.dirty[0]&&i(14,d={mime:"media-mime-"+Q.slugify(((null==E?void 0:E.mime)||"").split("/")[0]),width:"media-width-"+B,height:"media-height-"+H,ratio:"media-ratio-"+z,orientation:"media-orientation-"+S,misc:"media block rel w100pc "+C})},l="desktop"==P,e=A(e),[V,I,Y,B,H,z,h,T,g,v,G,a,n,r,d,$,t=>Q.isFileType(t,E),e,S,E,k,N,j,D,O,C,u,m,o,s,function(){V=this.paused,i(0,V)},function(t){B=t,i(3,B)},function(t){H=t,i(4,H)},function(t){z=t,i(5,z)},function(t){f[t?"unshift":"push"]((()=>{G=t,i(10,G)}))}]}class ht extends t{constructor(t){super(),e(this,t,ct,st,i,{file:19,autohide:20,format:21,loop:1,threshold:22,orientation:18,paused:0,root:23,force:24,class:25,style:2},[-1,-1])}}function ut(t,e,i){const a=t.slice();return a[21]=e[i],a[23]=i,a}function ft(t){let e,i,r,d,c,h,u;function m(e){t[18](e)}let p={root:t[9],format:t[4],file:t[8],autohide:t[3]?`${t[1]}-media-embed`:null};void 0!==t[0]&&(p.orientation=t[0]),i=new ht({props:p}),f.push((()=>b(i,"orientation",m)));let $=[t[7],{id:d=`${t[1]}-media-embed`}],w={};for(let a=0;a<$.length;a+=1)w=x(w,$[a]);return{c(){e=a("div"),E(i.$$.fragment),this.h()},l(t){e=n(t,"DIV",{id:!0});var a=o(e);k(i.$$.fragment,a),a.forEach(s),this.h()},h(){T(e,w)},m(t,a){l(t,e,a),N(i,e,null),c=!0,h||(u=O(e,"click",$t),h=!0)},p(t,a){const n={};512&a&&(n.root=t[9]),16&a&&(n.format=t[4]),256&a&&(n.file=t[8]),10&a&&(n.autohide=t[3]?`${t[1]}-media-embed`:null),!r&&1&a&&(r=!0,n.orientation=t[0],S((()=>r=!1))),i.$set(n),T(e,w=I($,[128&a&&t[7],(!c||2&a&&d!==(d=`${t[1]}-media-embed`))&&{id:d}]))},i(t){c||(g(i.$$.fragment,t),c=!0)},o(t){v(i.$$.fragment,t),c=!1},d(t){t&&s(e),V(i),h=!1,u()}}}function mt(t){let e,i,d,c,h,u,w,y,A,j;function D(e){t[19](e)}let P={root:t[9],format:t[4],file:t[21],autohide:t[3]?`${t[1]}-media-${t[23]}`:null};void 0!==t[0]&&(P.orientation=t[0]),c=new ht({props:P}),f.push((()=>b(c,"orientation",D)));let C=[t[7],{id:w=`${t[1]}-media-${t[23]}`}],Y={};for(let a=0;a<C.length;a+=1)Y=x(Y,C[a]);return{c(){e=a("div"),i=a("a"),d=m(),E(c.$$.fragment),u=m(),this.h()},l(t){e=n(t,"DIV",{id:!0});var a=o(e);i=n(a,"A",{href:!0,class:!0}),o(i).forEach(s),d=p(a),k(c.$$.fragment,a),u=p(a),a.forEach(s),this.h()},h(){r(i,"href",t[5]),r(i,"class","fill unclickable activ8 z-index22"),T(e,Y)},m(t,a){l(t,e,a),$(e,i),$(e,d),N(c,e,null),$(e,u),y=!0,A||(j=O(e,"click",$t),A=!0)},p(t,a){(!y||32&a)&&r(i,"href",t[5]);const n={};512&a&&(n.root=t[9]),16&a&&(n.format=t[4]),64&a&&(n.file=t[21]),10&a&&(n.autohide=t[3]?`${t[1]}-media-${t[23]}`:null),!h&&1&a&&(h=!0,n.orientation=t[0],S((()=>h=!1))),c.$set(n),T(e,Y=I(C,[128&a&&t[7],(!y||2&a&&w!==(w=`${t[1]}-media-${t[23]}`))&&{id:w}]))},i(t){y||(g(c.$$.fragment,t),y=!0)},o(t){v(c.$$.fragment,t),y=!1},d(t){t&&s(e),V(c),A=!1,j()}}}function pt(t){let e,i,a,n=t[2]&&ft(t),o=t[6],r=[];for(let s=0;s<o.length;s+=1)r[s]=mt(ut(t,o,s));const d=t=>v(r[t],1,1,(()=>{r[t]=null}));return{c(){n&&n.c(),e=m();for(let t=0;t<r.length;t+=1)r[t].c();i=M()},l(t){n&&n.l(t),e=p(t);for(let e=0;e<r.length;e+=1)r[e].l(t);i=M()},m(t,o){n&&n.m(t,o),l(t,e,o);for(let e=0;e<r.length;e+=1)r[e].m(t,o);l(t,i,o),a=!0},p(t,[a]){if(t[2]?n?(n.p(t,a),4&a&&g(n,1)):(n=ft(t),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(R(),v(n,1,1,(()=>{n=null})),B()),763&a){let e;for(o=t[6],e=0;e<o.length;e+=1){const n=ut(t,o,e);r[e]?(r[e].p(n,a),g(r[e],1)):(r[e]=mt(n),r[e].c(),g(r[e],1),r[e].m(i.parentNode,i))}for(R(),e=o.length;e<r.length;e+=1)d(e);B()}},i(t){if(!a){g(n);for(let t=0;t<o.length;t+=1)g(r[t]);a=!0}},o(t){v(n),r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)v(r[e]);a=!1},d(t){n&&n.d(t),t&&s(e),H(r,t),t&&s(i)}}}function $t(t,e){}function gt(t,e,i){let a,n,o,s,r,{id:l}=e,{text:d}=e,{media:c}=e,{created:h}=e,{updated:u}=e,{original:f=""}=e,{index:m=-1}=e,{embed:p}=e,{date:$}=e,{status:g}=e,{autohide:v=!1}=e,{format:w="996x0x95xfit"}=e,{orientation:y}=e;return t.$$set=t=>{"id"in t&&i(1,l=t.id),"text"in t&&i(10,d=t.text),"media"in t&&i(11,c=t.media),"created"in t&&i(12,h=t.created),"updated"in t&&i(13,u=t.updated),"original"in t&&i(14,f=t.original),"index"in t&&i(15,m=t.index),"embed"in t&&i(2,p=t.embed),"date"in t&&i(16,$=t.date),"status"in t&&i(17,g=t.status),"autohide"in t&&i(3,v=t.autohide),"format"in t&&i(4,w=t.format),"orientation"in t&&i(0,y=t.orientation)},t.$$.update=()=>{var e,o,d;65538&t.$$.dirty&&i(5,a=`/feed/${Q.year($)}/${l}`),2048&t.$$.dirty&&i(6,n=c||[]),4&t.$$.dirty&&(p||[])[0],4&t.$$.dirty&&i(8,s={mime:null==(e=(p||[])[0])?void 0:e.iframe,url:null==(o=(p||[])[0])?void 0:o.iframe,id:null==(d=(p||[])[0])?void 0:d.id}),65536&t.$$.dirty&&i(9,r=`/posts/${Q.year($)}/`)},i(7,o={class:"post-media-link flex grow w100pc feed-media-item mb1 rel"}),[y,l,p,v,w,a,n,o,s,r,d,c,h,u,f,m,$,g,function(t){y=t,i(0,y)},function(t){y=t,i(0,y)}]}class vt extends t{constructor(t){super(),e(this,t,gt,pt,i,{id:1,text:10,media:11,created:12,updated:13,original:14,index:15,embed:2,date:16,status:17,autohide:3,format:4,orientation:0})}}function wt(t){let e,i,d,c;const h=t[7].default,u=z(h,t,t[6],null);return{c(){e=a("timestamp"),i=C(t[2]),d=m(),u&&u.c(),this.h()},l(a){e=n(a,"TIMESTAMP",{class:!0,style:!0});var r=o(e);i=Y(r,t[2]),d=p(r),u&&u.l(r),r.forEach(s),this.h()},h(){r(e,"class",t[0]),r(e,"style",t[1])},m(t,a){l(t,e,a),$(e,i),$(e,d),u&&u.m(e,null),c=!0},p(t,[a]){(!c||4&a)&&G(i,t[2]),u&&u.p&&(!c||64&a)&&L(u,h,t,t[6],a,null,null),(!c||1&a)&&r(e,"class",t[0]),(!c||2&a)&&r(e,"style",t[1])},i(t){c||(g(u,t),c=!0)},o(t){v(u,t),c=!1},d(t){t&&s(e),u&&u.d(t)}}}function yt(t,e,i){let a,n;w(t,W,(t=>i(8,n=t)));let{$$slots:o={},$$scope:s}=e,{relative:r=!1}=e,{format:l=n}=e,{date:d}=e,{class:c=""}=e,{style:h=""}=e;return t.$$set=t=>{"relative"in t&&i(3,r=t.relative),"format"in t&&i(4,l=t.format),"date"in t&&i(5,d=t.date),"class"in t&&i(0,c=t.class),"style"in t&&i(1,h=t.style),"$$scope"in t&&i(6,s=t.$$scope)},t.$$.update=()=>{48&t.$$.dirty&&i(2,a=Q.timestamp(d,l))},[c,h,a,r,l,d,s,o]}class xt extends t{constructor(t){super(),e(this,t,yt,wt,i,{relative:3,format:4,date:5,class:0,style:1})}}function At(t){let e,i,d,c,h,u,f,$,w,y;const A=[{type:"play-pause"},{state:t[2]},t[1],{width:t[1].width-12},{height:t[1].height-12}];let b={};for(let a=0;a<A.length;a+=1)b=x(b,A[a]);i=new X({props:b});const S=[{state:t[3]},{type:"audio"},t[1]];let D={};for(let a=0;a<S.length;a+=1)D=x(D,S[a]);return f=new X({props:D}),{c(){e=a("span"),E(i.$$.fragment),d=m(),c=a("span"),h=m(),u=a("span"),E(f.$$.fragment),this.h()},l(t){e=n(t,"SPAN",{});var a=o(e);k(i.$$.fragment,a),a.forEach(s),d=p(t),c=n(t,"SPAN",{class:!0}),o(c).forEach(s),h=p(t),u=n(t,"SPAN",{});var r=o(u);k(f.$$.fragment,r),r.forEach(s),this.h()},h(){r(c,"class","w1em")},m(a,n){l(a,e,n),N(i,e,null),l(a,d,n),l(a,c,n),l(a,h,n),l(a,u,n),N(f,u,null),$=!0,w||(y=[O(e,"click",t[15]),O(u,"click",t[16])],w=!0)},p(t,e){const a=6&e?I(A,[A[0],4&e&&{state:t[2]},2&e&&j(t[1]),2&e&&{width:t[1].width-12},2&e&&{height:t[1].height-12}]):{};i.$set(a);const n=10&e?I(S,[8&e&&{state:t[3]},S[1],2&e&&j(t[1])]):{};f.$set(n)},i(t){$||(g(i.$$.fragment,t),g(f.$$.fragment,t),$=!0)},o(t){v(i.$$.fragment,t),v(f.$$.fragment,t),$=!1},d(t){t&&s(e),V(i),t&&s(d),t&&s(c),t&&s(h),t&&s(u),V(f),w=!1,P(y)}}}function bt(t){let e,i,d=t[0]&&At(t);return{c(){e=a("nav"),d&&d.c(),this.h()},l(t){e=n(t,"NAV",{class:!0});var i=o(e);d&&d.l(i),i.forEach(s),this.h()},h(){r(e,"class","m1 flex row-center-center sm-max-none")},m(t,a){l(t,e,a),d&&d.m(e,null),i=!0},p(t,[i]){t[0]?d?(d.p(t,i),1&i&&g(d,1)):(d=At(t),d.c(),g(d,1),d.m(e,null)):d&&(R(),v(d,1,1,(()=>{d=null})),B())},i(t){i||(g(d),i=!0)},o(t){v(d),i=!1},d(t){t&&s(e),d&&d.d()}}}function Et(t,e,i){let a,n,o,s,r;w(t,K,(t=>i(14,o=t))),w(t,U,(t=>i(2,s=t))),w(t,J,(t=>i(3,r=t)));let{id:l}=e,{text:d}=e,{media:c}=e,{created:h}=e,{updated:u}=e,{original:f=""}=e,{index:m=-1}=e,{embed:p}=e,{date:$}=e,{status:g}=e;return t.$$set=t=>{"id"in t&&i(4,l=t.id),"text"in t&&i(5,d=t.text),"media"in t&&i(6,c=t.media),"created"in t&&i(7,h=t.created),"updated"in t&&i(8,u=t.updated),"original"in t&&i(9,f=t.original),"index"in t&&i(10,m=t.index),"embed"in t&&i(11,p=t.embed),"date"in t&&i(12,$=t.date),"status"in t&&i(13,g=t.status)},t.$$.update=()=>{64&t.$$.dirty&&i(0,a=!!(c||[]).find((t=>-1!=t.mime.indexOf("video")))),16400&t.$$.dirty&&(null==o?void 0:o.id)&&l&&o.id.indexOf(l)},i(1,n={width:35,height:35,stroke:1,color:"var(--color)"}),[a,n,s,r,l,d,c,h,u,f,m,p,$,g,o,t=>y(U,s=!s,s),t=>y(J,r=!r,r)]}class kt extends t{constructor(t){super(),e(this,t,Et,bt,i,{id:4,text:5,media:6,created:7,updated:8,original:9,index:10,embed:11,date:12,status:13})}}function Nt(t){let e,i,d,c,h,u,f,w,y,A,b,S;f=new xt({props:{class:"mt1  flex",date:t[2],format:t[3]}});const D=[t[6]];let O={};for(let a=0;a<D.length;a+=1)O=x(O,D[a]);return y=new kt({props:O}),{c(){e=a("div"),i=a("div"),d=a("a"),c=a("span"),h=C(t[1]),u=m(),E(f.$$.fragment),w=m(),E(y.$$.fragment),A=m(),b=M(),this.h()},l(a){e=n(a,"DIV",{class:!0});var r=o(e);i=n(r,"DIV",{class:!0});var l=o(i);d=n(l,"A",{class:!0,href:!0});var m=o(d);c=n(m,"SPAN",{class:!0});var $=o(c);h=Y($,t[1]),$.forEach(s),u=p(m),k(f.$$.fragment,m),m.forEach(s),w=p(l),k(y.$$.fragment,l),l.forEach(s),r.forEach(s),A=p(a),b=M(),this.h()},h(){r(c,"class","p0-5 uppercase plr2 filled f1 text-center"),r(d,"class","unclickable flex column-center-center activ8"),r(d,"href",t[4]),r(i,"class","grow flex column-center-start"),r(e,"class","post-text flex row-space-between-start")},m(t,a){l(t,e,a),$(e,i),$(i,d),$(d,c),$(c,h),$(d,u),N(f,d,null),$(i,w),N(y,i,null),l(t,A,a),l(t,b,a),S=!0},p(t,[e]){(!S||2&e)&&G(h,t[1]);const i={};4&e&&(i.date=t[2]),8&e&&(i.format=t[3]),f.$set(i),(!S||16&e)&&r(d,"href",t[4]);const a=64&e?I(D,[j(t[6])]):{};y.$set(a)},i(t){S||(g(f.$$.fragment,t),g(y.$$.fragment,t),S=!0)},o(t){v(f.$$.fragment,t),v(y.$$.fragment,t),S=!1},d(t){t&&s(e),V(f),V(y),t&&s(A),t&&s(b)}}}function It(t,e,i){let a,n;w(t,q,(t=>i(5,n=t)));let{id:o}=e,{text:s}=e,{media:r}=e,{created:l}=e,{updated:d}=e,{original:c=""}=e,{index:h=-1}=e,{embed:u}=e,{date:f}=e,{status:m}=e,{format:p="DD-MM-YYYY"}=e;return t.$$set=t=>{i(6,e=x(x({},e),A(t))),"id"in t&&i(0,o=t.id),"text"in t&&i(1,s=t.text),"media"in t&&i(7,r=t.media),"created"in t&&i(8,l=t.created),"updated"in t&&i(9,d=t.updated),"original"in t&&i(10,c=t.original),"index"in t&&i(11,h=t.index),"embed"in t&&i(12,u=t.embed),"date"in t&&i(2,f=t.date),"status"in t&&i(13,m=t.status),"format"in t&&i(3,p=t.format)},t.$$.update=()=>{5&t.$$.dirty&&i(4,a=`/feed/${Q.year(f)}/${o}`)},e=A(e),[o,s,f,p,a,n,e,r,l,d,c,h,u,m]}class jt extends t{constructor(t){super(),e(this,t,It,Nt,i,{id:0,text:1,media:7,created:8,updated:9,original:10,index:11,embed:12,date:2,status:13,format:3})}}export{vt as P,jt as a};

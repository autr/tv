import{S as t,i as e,s,e as a,j as r,k as l,c as n,a as o,m as c,n as f,d as h,b as i,f as u,o as d,E as g,t as p,g as m,h as $,v as b,r as x,w,J as v,u as k,a1 as j,B as E}from"../chunks/vendor-07a24748.js";import{a as Y}from"../chunks/api-4015f651.js";import{T as D}from"../chunks/Title-ebd27af6.js";function y(t,e,s){const a=t.slice();return a[3]=e[s][0],a[4]=e[s][1],a}function M(t,e,s){const a=t.slice();return a[7]=e[s].text,a[8]=e[s].href,a}function V(t){let e,s=t[3]+"";return{c(){e=p(s)},l(t){e=m(t,s)},m(t,s){u(t,e,s)},p(t,a){1&a&&s!==(s=t[3]+"")&&$(e,s)},d(t){t&&h(e)}}}function A(t){let e,s,r,c,d=t[7]+"";return{c(){e=a("a"),s=p(d),r=l(),this.h()},l(t){e=n(t,"A",{class:!0,href:!0});var a=o(e);s=m(a,d),r=f(a),a.forEach(h),this.h()},h(){i(e,"class","unclickable ptb0-5 flex row-space-between-center f1"),i(e,"href",c=t[8])},m(t,a){u(t,e,a),g(e,s),g(e,r)},p(t,a){1&a&&d!==(d=t[7]+"")&&$(s,d),1&a&&c!==(c=t[8])&&i(e,"href",c)},d(t){t&&h(e)}}}function B(t){let e,s,p,m,$,k;s=new D({props:{$$slots:{default:[V]},$$scope:{ctx:t}}});let j=t[4],E=[];for(let a=0;a<j.length;a+=1)E[a]=A(M(t,j,a));return{c(){e=a("div"),r(s.$$.fragment),p=l(),m=a("div");for(let t=0;t<E.length;t+=1)E[t].c();$=l(),this.h()},l(t){e=n(t,"DIV",{class:!0});var a=o(e);c(s.$$.fragment,a),p=f(a),m=n(a,"DIV",{class:!0});var r=o(m);for(let e=0;e<E.length;e+=1)E[e].l(r);r.forEach(h),$=f(a),a.forEach(h),this.h()},h(){i(m,"class","flex column-stretch-start grow pt1"),i(e,"class","flex column pt1 grow")},m(t,a){u(t,e,a),d(s,e,null),g(e,p),g(e,m);for(let e=0;e<E.length;e+=1)E[e].m(m,null);g(e,$),k=!0},p(t,e){const a={};if(2049&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a),1&e){let s;for(j=t[4],s=0;s<j.length;s+=1){const a=M(t,j,s);E[s]?E[s].p(a,e):(E[s]=A(a),E[s].c(),E[s].m(m,null))}for(;s<E.length;s+=1)E[s].d(1);E.length=j.length}},i(t){k||(b(s.$$.fragment,t),k=!0)},o(t){x(s.$$.fragment,t),k=!1},d(t){t&&h(e),w(s),v(E,t)}}}function F(t){let e,s,r=Object.entries(t[0]),l=[];for(let a=0;a<r.length;a+=1)l[a]=B(y(t,r,a));const c=t=>x(l[t],1,1,(()=>{l[t]=null}));return{c(){e=a("nav");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=n(t,"NAV",{class:!0});var s=o(e);for(let e=0;e<l.length;e+=1)l[e].l(s);s.forEach(h),this.h()},h(){i(e,"class","flex row")},m(t,a){u(t,e,a);for(let s=0;s<l.length;s+=1)l[s].m(e,null);s=!0},p(t,[s]){if(1&s){let a;for(r=Object.entries(t[0]),a=0;a<r.length;a+=1){const n=y(t,r,a);l[a]?(l[a].p(n,s),b(l[a],1)):(l[a]=B(n),l[a].c(),b(l[a],1),l[a].m(e,null))}for(E(),a=r.length;a<l.length;a+=1)c(a);k()}},i(t){if(!s){for(let t=0;t<r.length;t+=1)b(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)x(l[e]);s=!1},d(t){t&&h(e),v(l,t)}}}const I=async({fetch:t,page:e})=>({props:{data:await Y.feed(t)}});function O(t){return`/feed/${new Date(1e3*t.date).getFullYear()}/${t.id}`}function T(t,e,s){let a,{data:r}=e;const l=(t,e)=>({text:t,href:e});return t.$$set=t=>{"data"in t&&s(1,r=t.data)},t.$$.update=()=>{2&t.$$.dirty&&s(0,a={Feed:r.map((t=>({text:j(1e3*t.date).format("D MMM, YYYY, dd"),href:O(t)}))),Pages:[l("about","/about"),l("works","/works"),l("subscribe","/subscribe"),l("rss","/rss.xml")]})},[a,r]}export default class extends t{constructor(t){super(),e(this,t,T,F,s,{data:1})}}export{I as load};

import{S as t,i as e,s as i,e as a,c as n,a as o,d as s,b as r,f as l,F as d,z as c,a2 as u,a3 as h,L as f,k as m,n as p,E as $,v as g,r as y,G as w,O as v,A as x,$ as A,M as b,j as E,m as k,o as S,p as N,q as I,N as j,w as V,D,I as O,R as P,t as R,g as C,a4 as Y,l as F,B as T,u as q,J as M,P as z,h as B,Q as H}from"./vendor-07a24748.js";import{u as G}from"./utils-e83b783f.js";import{e as L,c as Q,a as U,s as K,d as J,f as W,g as X}from"./stores-14fb8482.js";import{A as Z}from"./All.wc-06042dbe.js";function _(t){let e;return{c(){e=a("span"),this.h()},l(t){e=n(t,"SPAN",{class:!0,id:!0}),o(e).forEach(s),this.h()},h(){r(e,"class","fill vimeo"),r(e,"id",t[1])},m(i,a){l(i,e,a),t[17](e)},p(t,[i]){2&i&&r(e,"id",t[1])},i:d,o:d,d(i){i&&s(e),t[17](null)}}}function tt(t){console.log("PLAY!!!")}function et(t,e,i){let a,n,o,{file:s}=e,{autohide:r=!1}=e,{format:l=""}=e,{hidden:d=!!r}=e,{paused:m=!0}=e,{autoplay:p=!1}=e,{muted:$=!0}=e,{loop:g=!0}=e,{root:y=null}=e,{orientation:w}=e,{width:v=1280}=e,{height:x=720}=e,{ratio:A}=e,{class:b=""}=e,{style:E=""}=e;return c((async t=>{if(n)return;n=new u(o,{url:s.url,background:!1,width:"100%",height:800,color:"#333",dnt:!0}),await n.on("play",tt);const e=await n.getVideoTitle();i(2,v=await n.getVideoWidth()),i(3,x=await n.getVideoHeight()),i(4,A=x/v*100),console.log("[vimeo] getting dimensions",{title:e,width:v,height:x})})),h((async t=>{if(!n)return;const e=await n.destroy();console.log("DESTROY!",e)})),t.$$set=t=>{"file"in t&&i(5,s=t.file),"autohide"in t&&i(6,r=t.autohide),"format"in t&&i(7,l=t.format),"hidden"in t&&i(8,d=t.hidden),"paused"in t&&i(9,m=t.paused),"autoplay"in t&&i(10,p=t.autoplay),"muted"in t&&i(11,$=t.muted),"loop"in t&&i(12,g=t.loop),"root"in t&&i(13,y=t.root),"orientation"in t&&i(14,w=t.orientation),"width"in t&&i(2,v=t.width),"height"in t&&i(3,x=t.height),"ratio"in t&&i(4,A=t.ratio),"class"in t&&i(15,b=t.class),"style"in t&&i(16,E=t.style)},t.$$.update=()=>{t.$$.dirty,64&t.$$.dirty&&i(1,a=r||"vimeo-player-untitled")},[o,a,v,x,A,s,r,l,d,m,p,$,g,y,w,b,E,function(t){f[t?"unshift":"push"]((()=>{o=t,i(0,o)}))}]}class it extends t{constructor(t){super(),e(this,t,et,_,i,{file:5,autohide:6,format:7,hidden:8,paused:9,autoplay:10,muted:11,loop:12,root:13,orientation:14,width:2,height:3,ratio:4,class:15,style:16})}}function at(t){let e,i,a,n,o;const s=[t[21]];function r(e){t[36](e)}function l(e){t[37](e)}function d(e){t[38](e)}let c={};for(let u=0;u<s.length;u+=1)c=x(c,s[u]);return void 0!==t[3]&&(c.width=t[3]),void 0!==t[4]&&(c.height=t[4]),void 0!==t[5]&&(c.ratio=t[5]),e=new it({props:c}),f.push((()=>b(e,"width",r))),f.push((()=>b(e,"height",l))),f.push((()=>b(e,"ratio",d))),{c(){E(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,i){S(e,t,i),o=!0},p(t,o){const r=2097152&o[0]?N(s,[I(t[21])]):{};!i&&8&o[0]&&(i=!0,r.width=t[3],j((()=>i=!1))),!a&&16&o[0]&&(a=!0,r.height=t[4],j((()=>a=!1))),!n&&32&o[0]&&(n=!0,r.ratio=t[5],j((()=>n=!1))),e.$set(r)},i(t){o||(g(e.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),o=!1},d(t){V(e,t)}}}function nt(t){let e,i,c,u,h,f,m,p,$=!0;return{c(){e=a("video"),this.h()},l(t){e=n(t,"VIDEO",{class:!0,poster:!0,width:!0,height:!0,playsinline:!0,src:!0,muted:!0,autoplay:!0,loop:!0,preload:!0,controls:!0,title:!0,alt:!0}),o(e).forEach(s),this.h()},h(){r(e,"class","embed fill w100pc h-auto z-index66"),r(e,"poster",i=t[7]?dt:t[9]),r(e,"width",t[3]),r(e,"height",t[4]),e.playsInline=!0,e.src!==(c=t[7]?dt:t[8])&&r(e,"src",c),e.muted=u=!t[16],e.autoplay=h=t[6]&&!t[0],e.loop=t[1],r(e,"preload",f=t[7]?"none":"auto"),e.controls=t[17],r(e,"title",t[12]),r(e,"alt",t[13]),D(e,"active",!t[7]),D(e,"playing",!t[0]),D(e,"paused",t[0])},m(i,a){l(i,e,a),t[34](e),m||(p=[O(e,"play",ut),O(e,"click",t[19]),O(e,"fullscreenchange",t[20]),O(e,"play",t[35]),O(e,"pause",t[35])],m=!0)},p(t,a){640&a[0]&&i!==(i=t[7]?dt:t[9])&&r(e,"poster",i),8&a[0]&&r(e,"width",t[3]),16&a[0]&&r(e,"height",t[4]),384&a[0]&&e.src!==(c=t[7]?dt:t[8])&&r(e,"src",c),65536&a[0]&&u!==(u=!t[16])&&(e.muted=u),65&a[0]&&h!==(h=t[6]&&!t[0])&&(e.autoplay=h),2&a[0]&&(e.loop=t[1]),128&a[0]&&f!==(f=t[7]?"none":"auto")&&r(e,"preload",f),131072&a[0]&&(e.controls=t[17]),4096&a[0]&&r(e,"title",t[12]),8192&a[0]&&r(e,"alt",t[13]),1&a[0]&&$!==($=t[0])&&e[$?"pause":"play"](),128&a[0]&&D(e,"active",!t[7]),1&a[0]&&D(e,"playing",!t[0]),1&a[0]&&D(e,"paused",t[0])},i:d,o:d,d(i){i&&s(e),t[34](null),m=!1,P(p)}}}function ot(t){let e,i;return{c(){e=a("img"),this.h()},l(t){e=n(t,"IMG",{class:!0,width:!0,height:!0,src:!0,title:!0,alt:!0}),this.h()},h(){r(e,"class","embed fill w100pc h-auto"),r(e,"width",t[3]),r(e,"height",t[4]),e.src!==(i=t[7]?dt:t[9])&&r(e,"src",i),r(e,"title",t[12]),r(e,"alt",t[13]),D(e,"active",!t[7])},m(t,i){l(t,e,i)},p(t,a){8&a[0]&&r(e,"width",t[3]),16&a[0]&&r(e,"height",t[4]),640&a[0]&&e.src!==(i=t[7]?dt:t[9])&&r(e,"src",i),4096&a[0]&&r(e,"title",t[12]),8192&a[0]&&r(e,"alt",t[13]),128&a[0]&&D(e,"active",!t[7])},i:d,o:d,d(t){t&&s(e)}}}function st(t){let e,i;return{c(){e=a("div"),i=R(lt),this.h()},l(t){e=n(t,"DIV",{class:!0});var a=o(e);i=C(a,lt),a.forEach(s),this.h()},h(){r(e,"class","fill flex row-center-center")},m(t,a){l(t,e,a),$(e,i)},p:d,i:d,o:d,d(t){t&&s(e)}}}function rt(t){let e,i,d,c,u,h,f,w;const v=[st,ot,nt,at],x=[];var A;return~(i=(A=t)[18]("image")?1:A[18]("video")?2:A[18]("vimeo")?3:-1)&&(d=x[i]=v[i](t)),{c(){e=a("span"),d&&d.c(),c=m(),u=a("canvas"),this.h()},l(t){e=n(t,"SPAN",{class:!0,style:!0});var i=o(e);d&&d.l(i),c=p(i),u=n(i,"CANVAS",{class:!0,width:!0,height:!0}),o(u).forEach(s),i.forEach(s),this.h()},h(){r(u,"class","hidden w100pc h-auto"),r(u,"width",t[3]),r(u,"height",t[4]),r(e,"class",h=Object.values(t[15]).join(" ")),r(e,"style",f=`${t[2]};${t[14]};`)},m(a,n){l(a,e,n),~i&&x[i].m(e,null),$(e,c),$(e,u),t[39](e),w=!0},p(t,i){d&&d.p(t,i),(!w||8&i[0])&&r(u,"width",t[3]),(!w||16&i[0])&&r(u,"height",t[4]),(!w||32768&i[0]&&h!==(h=Object.values(t[15]).join(" ")))&&r(e,"class",h),(!w||16388&i[0]&&f!==(f=`${t[2]};${t[14]};`))&&r(e,"style",f)},i(t){w||(g(d),w=!0)},o(t){y(d),w=!1},d(a){a&&s(e),~i&&x[i].d(),t[39](null)}}}let lt=null;const dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function ct(t,e){var i=e||"/",a=new RegExp(i+"{1,}","g");return t.join(i).replace(a,i)}function ut(){}function ht(t,e,i){let a,n,o,s,r,l,d,u,h,m,p,$,g;w(t,L,(t=>i(44,u=t))),w(t,Q,(t=>i(31,h=t))),w(t,U,(t=>i(6,m=t))),w(t,K,(t=>i(32,p=t))),w(t,J,(t=>i(16,$=t))),w(t,W,(t=>i(17,g=t)));let y=G.browser,{file:b}=e,{autohide:E=!1}=e,{format:k=""}=e,{loop:S=!0}=e,{threshold:N=.75}=e,{orientation:I=null}=e,{paused:j=!0}=e,{root:V}=e,{force:D=!1}=e;y&&G.device();let O,P,{class:R=""}=e,{style:C=""}=e,Y=!!E;function F(t,e){t&&e&&i(22,I=t>=e?"portrait":"landscape")}let T,q=null,M=null,z=null;let B,H;let X=!1;function Z(t,e){if(!y||!E||!X)return;H&&(clearTimeout(H),H=null);const a=(null==B?void 0:B.getBoundingClientRect())||{},n=-window.innerHeight,o=-1*a.y>a.height-n,s=a.y>window.innerHeight-n;i(7,Y=o||s),H=setTimeout((t=>{const e=(null==h?void 0:h.id)||"undefined-centroid",n=(null==h?void 0:h.center)||999999999,o=Math.abs(a.y+a.height/2-window.innerHeight/2);E==e&&o!=n&&v(Q,h={center:o,id:E,title:b.title},h),o<n&&e!=E&&(console.log(`[PostItem] ✨☯️✨  switching to new centroid "${E}" with size: ${q}/${M} (${z}), from position ${o} ${n}`,{vidSrc:O,posterSrc:P}),v(Q,h={center:o,id:E,title:b.title},h)),l&&i(0,j=h.id!=E||!m)}),20)}c((async t=>{X=!0,setTimeout((t=>{Z()}),100)}));let _=!1,tt=!1;return t.$$set=t=>{i(21,e=x(x({},e),A(t))),"file"in t&&i(23,b=t.file),"autohide"in t&&i(24,E=t.autohide),"format"in t&&i(25,k=t.format),"loop"in t&&i(1,S=t.loop),"threshold"in t&&i(26,N=t.threshold),"orientation"in t&&i(22,I=t.orientation),"paused"in t&&i(0,j=t.paused),"root"in t&&i(27,V=t.root),"force"in t&&i(28,D=t.force),"class"in t&&i(29,R=t.class),"style"in t&&i(2,C=t.style)},t.$$.update=()=>{var e;67108896&t.$$.dirty[0]&&F(z,N),8388608&t.$$.dirty[0]&&async function(t){if((null==b?void 0:b.basename)&&(null==b?void 0:b.location)){V||console.error("[media] no root is set!");const t=b.basename,e=t.lastIndexOf("."),a=t.slice(0,e),n=t.slice(e);let o=k;const s=G.extractDimensions(b);if(i(3,q=parseInt(o.split("x")[0])),i(4,M=parseInt(o.split("x")[1])),0==q?(i(5,z=s.ratio),i(3,q=M/z)):0==M?(i(5,z=s.ratio),i(4,M=q*z)):isNaN(q)||isNaN(M)?(i(3,q=s.width),i(4,M=s.height),i(5,z=s.ratio)):i(5,z=1),F(z,N),(null==o?void 0:o.length)>0&&(o="."+o),u.api&&""!=u.api&&u.copy){const t=ct([u.project,u.assets,V]),e=ct(["/media/",b.location.name]),s=a+o+n,r=a+n,l=`?copy=${ct([t,r])}`,d=`?copy=${ct([t,s])}`,c="/"==u.api.substring(u.api.length-1)?u.api.substring(0,u.api.length-1):u.api;i(8,O=c+ct([e,r+l])),i(9,P=c+ct([e,s+d])),D&&(await fetch(O),await fetch(P))}else i(8,O=ct([V,a+n])),i(9,P=ct([V,a+o+n]))}}(),8388608&t.$$.dirty[0]&&i(12,a=b.title),25165824&t.$$.dirty[0]&&i(13,n=(null==b?void 0:b.title)||E||(null==b?void 0:b.basename)||""),8388608&t.$$.dirty[0]&&i(30,o=function(t){if(!(null==b?void 0:b.vibrant))return{};let e={};for(const[i,a]of Object.entries(b.vibrant))e[i.toLowerCase()]=`rgb(${a.rgb.join(",")})`;return e}()),64&t.$$.dirty[0]&&(e=m,h.id==E&&l&&i(0,j=!e)),1&t.$$.dirty[0]&&(j||X||i(0,j=!0)),3&t.$$.dirty[1]&&Z(),1073741824&t.$$.dirty[0]&&i(33,s=(null==o?void 0:o.vibrant)||"var(--color)"),4&t.$$.dirty[1]&&i(14,r=`background-image: linear-gradient(to top left, transparent 0%, transparent calc(50% - var(--stroke-width)), ${s} 50%, transparent calc(50% + var(--stroke-width)), transparent 100%), linear-gradient(to top right, transparent 0%, transparent calc(50% - var(--stroke-width)), ${s} 50%, transparent calc(50% + var(--stroke-width)), transparent 100%);box-shadow:inset 0px 0px 0px 1px ${s}`),16777280&t.$$.dirty[0]|1&t.$$.dirty[1]&&m&&h.id,549453880&t.$$.dirty[0]&&i(15,d={mime:"media-mime-"+G.slugify(((null==b?void 0:b.mime)||"").split("/")[0]),width:"media-width-"+q,height:"media-height-"+M,ratio:"media-ratio-"+z,orientation:"media-orientation-"+I,misc:"media block rel w100pc "+R})},l=!0,e=A(e),[j,S,C,q,M,z,m,Y,O,P,T,B,a,n,r,d,$,g,t=>G.isFileType(t,b),function(t){t.target.requestFullScreen?t.target.requestFullScreen():t.target.mozRequestFullScreen?t.target.mozRequestFullScreen():t.target.webkitRequestFullScreen?t.target.webkitRequestFullScreen():v(U,m=!m,m)},function(t,e){const a=document.fullscreenElement==t.target;a&&(_=$,tt=j,v(U,m=!0,m)),!$&&a&&v(J,$=!0,$),j&&a&&i(0,j=!1),a||(v(J,$=_,$),i(0,j=tt))},e,I,b,E,k,N,V,D,R,o,h,p,s,function(t){f[t?"unshift":"push"]((()=>{T=t,i(10,T)}))},function(){j=this.paused,i(0,j)},function(t){q=t,i(3,q)},function(t){M=t,i(4,M)},function(t){z=t,i(5,z)},function(t){f[t?"unshift":"push"]((()=>{B=t,i(11,B)}))}]}class ft extends t{constructor(t){super(),e(this,t,ht,rt,i,{file:23,autohide:24,format:25,loop:1,threshold:26,orientation:22,paused:0,root:27,force:28,class:29,style:2},[-1,-1])}}function mt(t,e,i){const a=t.slice();return a[21]=e[i],a[23]=i,a}function pt(t){let e,i,r,d,c,u,h;function m(e){t[18](e)}let p={root:t[9],format:t[4],file:t[8],autohide:t[3]?`${t[1]}-media-embed`:null};void 0!==t[0]&&(p.orientation=t[0]),i=new ft({props:p}),f.push((()=>b(i,"orientation",m)));let $=[t[7],{id:d=`${t[1]}-media-embed`}],w={};for(let a=0;a<$.length;a+=1)w=x(w,$[a]);return{c(){e=a("div"),E(i.$$.fragment),this.h()},l(t){e=n(t,"DIV",{id:!0});var a=o(e);k(i.$$.fragment,a),a.forEach(s),this.h()},h(){Y(e,w)},m(t,a){l(t,e,a),S(i,e,null),c=!0,u||(h=O(e,"click",yt),u=!0)},p(t,a){const n={};512&a&&(n.root=t[9]),16&a&&(n.format=t[4]),256&a&&(n.file=t[8]),10&a&&(n.autohide=t[3]?`${t[1]}-media-embed`:null),!r&&1&a&&(r=!0,n.orientation=t[0],j((()=>r=!1))),i.$set(n),Y(e,w=N($,[128&a&&t[7],(!c||2&a&&d!==(d=`${t[1]}-media-embed`))&&{id:d}]))},i(t){c||(g(i.$$.fragment,t),c=!0)},o(t){y(i.$$.fragment,t),c=!1},d(t){t&&s(e),V(i),u=!1,h()}}}function $t(t){let e,i,d,c,u,h,w,v,A,I;function D(e){t[19](e)}let P={root:t[9],format:t[4],file:t[21],autohide:t[3]?`${t[1]}-media-${t[23]}`:null};void 0!==t[0]&&(P.orientation=t[0]),c=new ft({props:P}),f.push((()=>b(c,"orientation",D)));let R=[t[7],{id:w=`${t[1]}-media-${t[23]}`}],C={};for(let a=0;a<R.length;a+=1)C=x(C,R[a]);return{c(){e=a("div"),i=a("a"),d=m(),E(c.$$.fragment),h=m(),this.h()},l(t){e=n(t,"DIV",{id:!0});var a=o(e);i=n(a,"A",{href:!0,class:!0}),o(i).forEach(s),d=p(a),k(c.$$.fragment,a),h=p(a),a.forEach(s),this.h()},h(){r(i,"href",t[5]),r(i,"class","fill unclickable activ8 z-index22"),Y(e,C)},m(t,a){l(t,e,a),$(e,i),$(e,d),S(c,e,null),$(e,h),v=!0,A||(I=O(e,"click",yt),A=!0)},p(t,a){(!v||32&a)&&r(i,"href",t[5]);const n={};512&a&&(n.root=t[9]),16&a&&(n.format=t[4]),64&a&&(n.file=t[21]),10&a&&(n.autohide=t[3]?`${t[1]}-media-${t[23]}`:null),!u&&1&a&&(u=!0,n.orientation=t[0],j((()=>u=!1))),c.$set(n),Y(e,C=N(R,[128&a&&t[7],(!v||2&a&&w!==(w=`${t[1]}-media-${t[23]}`))&&{id:w}]))},i(t){v||(g(c.$$.fragment,t),v=!0)},o(t){y(c.$$.fragment,t),v=!1},d(t){t&&s(e),V(c),A=!1,I()}}}function gt(t){let e,i,a,n=t[2]&&pt(t),o=t[6],r=[];for(let s=0;s<o.length;s+=1)r[s]=$t(mt(t,o,s));const d=t=>y(r[t],1,1,(()=>{r[t]=null}));return{c(){n&&n.c(),e=m();for(let t=0;t<r.length;t+=1)r[t].c();i=F()},l(t){n&&n.l(t),e=p(t);for(let e=0;e<r.length;e+=1)r[e].l(t);i=F()},m(t,o){n&&n.m(t,o),l(t,e,o);for(let e=0;e<r.length;e+=1)r[e].m(t,o);l(t,i,o),a=!0},p(t,[a]){if(t[2]?n?(n.p(t,a),4&a&&g(n,1)):(n=pt(t),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(T(),y(n,1,1,(()=>{n=null})),q()),763&a){let e;for(o=t[6],e=0;e<o.length;e+=1){const n=mt(t,o,e);r[e]?(r[e].p(n,a),g(r[e],1)):(r[e]=$t(n),r[e].c(),g(r[e],1),r[e].m(i.parentNode,i))}for(T(),e=o.length;e<r.length;e+=1)d(e);q()}},i(t){if(!a){g(n);for(let t=0;t<o.length;t+=1)g(r[t]);a=!0}},o(t){y(n),r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)y(r[e]);a=!1},d(t){n&&n.d(t),t&&s(e),M(r,t),t&&s(i)}}}function yt(t,e){}function wt(t,e,i){let a,n,o,s,r,{id:l}=e,{text:d}=e,{media:c}=e,{created:u}=e,{updated:h}=e,{original:f=""}=e,{index:m=-1}=e,{embed:p}=e,{date:$}=e,{status:g}=e,{autohide:y=!1}=e,{format:w="996x0x95xfit"}=e,{orientation:v}=e;return t.$$set=t=>{"id"in t&&i(1,l=t.id),"text"in t&&i(10,d=t.text),"media"in t&&i(11,c=t.media),"created"in t&&i(12,u=t.created),"updated"in t&&i(13,h=t.updated),"original"in t&&i(14,f=t.original),"index"in t&&i(15,m=t.index),"embed"in t&&i(2,p=t.embed),"date"in t&&i(16,$=t.date),"status"in t&&i(17,g=t.status),"autohide"in t&&i(3,y=t.autohide),"format"in t&&i(4,w=t.format),"orientation"in t&&i(0,v=t.orientation)},t.$$.update=()=>{var e,o,d;65538&t.$$.dirty&&i(5,a=`/feed/${G.year($)}/${l}`),2048&t.$$.dirty&&i(6,n=c||[]),4&t.$$.dirty&&(p||[])[0],4&t.$$.dirty&&i(8,s={mime:null==(e=(p||[])[0])?void 0:e.iframe,url:null==(o=(p||[])[0])?void 0:o.iframe,id:null==(d=(p||[])[0])?void 0:d.id}),65536&t.$$.dirty&&i(9,r=`/posts/${G.year($)}/`)},i(7,o={class:"post-media-link flex grow w100pc feed-media-item mb1 rel"}),[v,l,p,y,w,a,n,o,s,r,d,c,u,h,f,m,$,g,function(t){v=t,i(0,v)},function(t){v=t,i(0,v)}]}class vt extends t{constructor(t){super(),e(this,t,wt,gt,i,{id:1,text:10,media:11,created:12,updated:13,original:14,index:15,embed:2,date:16,status:17,autohide:3,format:4,orientation:0})}}function xt(t){let e,i,d,c;const u=t[7].default,h=z(u,t,t[6],null);return{c(){e=a("timestamp"),i=R(t[2]),d=m(),h&&h.c(),this.h()},l(a){e=n(a,"TIMESTAMP",{class:!0,style:!0});var r=o(e);i=C(r,t[2]),d=p(r),h&&h.l(r),r.forEach(s),this.h()},h(){r(e,"class",t[0]),r(e,"style",t[1])},m(t,a){l(t,e,a),$(e,i),$(e,d),h&&h.m(e,null),c=!0},p(t,[a]){(!c||4&a)&&B(i,t[2]),h&&h.p&&(!c||64&a)&&H(h,u,t,t[6],a,null,null),(!c||1&a)&&r(e,"class",t[0]),(!c||2&a)&&r(e,"style",t[1])},i(t){c||(g(h,t),c=!0)},o(t){y(h,t),c=!1},d(t){t&&s(e),h&&h.d(t)}}}function At(t,e,i){let a,n;w(t,X,(t=>i(8,n=t)));let{$$slots:o={},$$scope:s}=e,{relative:r=!1}=e,{format:l=n}=e,{date:d}=e,{class:c=""}=e,{style:u=""}=e;return t.$$set=t=>{"relative"in t&&i(3,r=t.relative),"format"in t&&i(4,l=t.format),"date"in t&&i(5,d=t.date),"class"in t&&i(0,c=t.class),"style"in t&&i(1,u=t.style),"$$scope"in t&&i(6,s=t.$$scope)},t.$$.update=()=>{48&t.$$.dirty&&i(2,a=G.timestamp(d,l))},[c,u,a,r,l,d,s,o]}class bt extends t{constructor(t){super(),e(this,t,At,xt,i,{relative:3,format:4,date:5,class:0,style:1})}}function Et(t){let e,i,d,c,u,h,f,$,w,v;const A=[{type:"play-pause"},{state:t[2]},t[1],{width:t[1].width-12},{height:t[1].height-12}];let b={};for(let a=0;a<A.length;a+=1)b=x(b,A[a]);i=new Z({props:b});const j=[{state:t[3]},{type:"audio"},t[1]];let D={};for(let a=0;a<j.length;a+=1)D=x(D,j[a]);return f=new Z({props:D}),{c(){e=a("span"),E(i.$$.fragment),d=m(),c=a("span"),u=m(),h=a("span"),E(f.$$.fragment),this.h()},l(t){e=n(t,"SPAN",{});var a=o(e);k(i.$$.fragment,a),a.forEach(s),d=p(t),c=n(t,"SPAN",{class:!0}),o(c).forEach(s),u=p(t),h=n(t,"SPAN",{});var r=o(h);k(f.$$.fragment,r),r.forEach(s),this.h()},h(){r(c,"class","w1em")},m(a,n){l(a,e,n),S(i,e,null),l(a,d,n),l(a,c,n),l(a,u,n),l(a,h,n),S(f,h,null),$=!0,w||(v=[O(e,"click",t[15]),O(h,"click",t[16])],w=!0)},p(t,e){const a=6&e?N(A,[A[0],4&e&&{state:t[2]},2&e&&I(t[1]),2&e&&{width:t[1].width-12},2&e&&{height:t[1].height-12}]):{};i.$set(a);const n=10&e?N(j,[8&e&&{state:t[3]},j[1],2&e&&I(t[1])]):{};f.$set(n)},i(t){$||(g(i.$$.fragment,t),g(f.$$.fragment,t),$=!0)},o(t){y(i.$$.fragment,t),y(f.$$.fragment,t),$=!1},d(t){t&&s(e),V(i),t&&s(d),t&&s(c),t&&s(u),t&&s(h),V(f),w=!1,P(v)}}}function kt(t){let e,i,d=t[0]&&Et(t);return{c(){e=a("nav"),d&&d.c(),this.h()},l(t){e=n(t,"NAV",{class:!0});var i=o(e);d&&d.l(i),i.forEach(s),this.h()},h(){r(e,"class","m1 flex row-center-center")},m(t,a){l(t,e,a),d&&d.m(e,null),i=!0},p(t,[i]){t[0]?d?(d.p(t,i),1&i&&g(d,1)):(d=Et(t),d.c(),g(d,1),d.m(e,null)):d&&(T(),y(d,1,1,(()=>{d=null})),q())},i(t){i||(g(d),i=!0)},o(t){y(d),i=!1},d(t){t&&s(e),d&&d.d()}}}function St(t,e,i){let a,n,o,s,r;w(t,Q,(t=>i(14,o=t))),w(t,U,(t=>i(2,s=t))),w(t,J,(t=>i(3,r=t)));let{id:l}=e,{text:d}=e,{media:c}=e,{created:u}=e,{updated:h}=e,{original:f=""}=e,{index:m=-1}=e,{embed:p}=e,{date:$}=e,{status:g}=e;return t.$$set=t=>{"id"in t&&i(4,l=t.id),"text"in t&&i(5,d=t.text),"media"in t&&i(6,c=t.media),"created"in t&&i(7,u=t.created),"updated"in t&&i(8,h=t.updated),"original"in t&&i(9,f=t.original),"index"in t&&i(10,m=t.index),"embed"in t&&i(11,p=t.embed),"date"in t&&i(12,$=t.date),"status"in t&&i(13,g=t.status)},t.$$.update=()=>{64&t.$$.dirty&&i(0,a=!!(c||[]).find((t=>-1!=t.mime.indexOf("video")))),16400&t.$$.dirty&&(null==o?void 0:o.id)&&l&&o.id.indexOf(l)},i(1,n={width:35,height:35,stroke:1,color:"var(--color)"}),[a,n,s,r,l,d,c,u,h,f,m,p,$,g,o,t=>v(U,s=!s,s),t=>v(J,r=!r,r)]}class Nt extends t{constructor(t){super(),e(this,t,St,kt,i,{id:4,text:5,media:6,created:7,updated:8,original:9,index:10,embed:11,date:12,status:13})}}function It(t){let e,i,d,c,u,h,f,w,v,A,b,j;f=new bt({props:{class:"mt1  flex",date:t[2],format:t[3]}});const D=[t[6]];let O={};for(let a=0;a<D.length;a+=1)O=x(O,D[a]);return v=new Nt({props:O}),{c(){e=a("div"),i=a("div"),d=a("a"),c=a("span"),u=R(t[1]),h=m(),E(f.$$.fragment),w=m(),E(v.$$.fragment),A=m(),b=F(),this.h()},l(a){e=n(a,"DIV",{class:!0});var r=o(e);i=n(r,"DIV",{class:!0});var l=o(i);d=n(l,"A",{class:!0,href:!0});var m=o(d);c=n(m,"SPAN",{class:!0});var $=o(c);u=C($,t[1]),$.forEach(s),h=p(m),k(f.$$.fragment,m),m.forEach(s),w=p(l),k(v.$$.fragment,l),l.forEach(s),r.forEach(s),A=p(a),b=F(),this.h()},h(){r(c,"class","p0-5 uppercase plr2 filled f1 text-center"),r(d,"class","unclickable flex column-center-center activ8"),r(d,"href",t[4]),r(i,"class","grow flex column-center-start"),r(e,"class","post-text flex row-space-between-start")},m(t,a){l(t,e,a),$(e,i),$(i,d),$(d,c),$(c,u),$(d,h),S(f,d,null),$(i,w),S(v,i,null),l(t,A,a),l(t,b,a),j=!0},p(t,[e]){(!j||2&e)&&B(u,t[1]);const i={};4&e&&(i.date=t[2]),8&e&&(i.format=t[3]),f.$set(i),(!j||16&e)&&r(d,"href",t[4]);const a=64&e?N(D,[I(t[6])]):{};v.$set(a)},i(t){j||(g(f.$$.fragment,t),g(v.$$.fragment,t),j=!0)},o(t){y(f.$$.fragment,t),y(v.$$.fragment,t),j=!1},d(t){t&&s(e),V(f),V(v),t&&s(A),t&&s(b)}}}function jt(t,e,i){let a,n;w(t,L,(t=>i(5,n=t)));let{id:o}=e,{text:s}=e,{media:r}=e,{created:l}=e,{updated:d}=e,{original:c=""}=e,{index:u=-1}=e,{embed:h}=e,{date:f}=e,{status:m}=e,{format:p="DD-MM-YYYY"}=e;return t.$$set=t=>{i(6,e=x(x({},e),A(t))),"id"in t&&i(0,o=t.id),"text"in t&&i(1,s=t.text),"media"in t&&i(7,r=t.media),"created"in t&&i(8,l=t.created),"updated"in t&&i(9,d=t.updated),"original"in t&&i(10,c=t.original),"index"in t&&i(11,u=t.index),"embed"in t&&i(12,h=t.embed),"date"in t&&i(2,f=t.date),"status"in t&&i(13,m=t.status),"format"in t&&i(3,p=t.format)},t.$$.update=()=>{5&t.$$.dirty&&i(4,a=`/feed/${G.year(f)}/${o}`)},e=A(e),[o,s,f,p,a,n,e,r,l,d,c,u,h,m]}class Vt extends t{constructor(t){super(),e(this,t,jt,It,i,{id:0,text:1,media:7,created:8,updated:9,original:10,index:11,embed:12,date:2,status:13,format:3})}}export{vt as P,Vt as a};

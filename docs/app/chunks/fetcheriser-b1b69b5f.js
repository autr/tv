var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,c=(e,t)=>{for(var o in t||(t={}))s.call(t,o)&&a(e,o,t[o]);if(r)for(var o of r(t))n.call(t,o)&&a(e,o,t[o]);return e},l=(e,r)=>t(e,o(r));const i="undefined"!=typeof window&&void 0!==window.document;let d={};["get","post","delete","put"].forEach((e=>{d[e]=async(t,o,r)=>await(async(e,t,o,r)=>{Array.isArray(t)&&(t=t.join("/"));try{let s={};if("delete"==e&&(s=l(c({},s),{credentials:"include",method:e.toUpperCase()})),"get"==e&&o){const r=Object.keys(o);for(let e=0;e<r.length;e++){const s=r[e];0==e&&(t+="?"),null!=o[s]&&""!=o[s]&&(t+=`${s}=${encodeURIComponent(o[s])}`,e!=r.length-1&&(t+="&"))}s=l(c({},s),{credentials:"include",method:e.toUpperCase()})}if("put"!=e&&"post"!=e||(s=l(c({},s),{credentials:"include",method:e.toUpperCase(),body:JSON.stringify(o||{}),headers:{"Content-Type":"application/json"}})),r||console.log(`[fetcher] üåü  ${t}`,s),!i)return{ok:!1,error:!0,message:"server side"};const a=await fetch(t,s);let d=await a.text();try{d=JSON.parse(d)}catch(n){}return a.ok&&!(null==d?void 0:d.error)||console.log(`[fetcher] ‚ùå  ${t}`,d.message,d.status,d.code),!a.ok||(null==d?void 0:d.error)?d:(r||console.log(`[fetcher] ‚úÖ  ${t}`),(e=>({code:200,status:200,error:!1,ok:!0,data:e}))(d))}catch(n){return r||console.log(`[fetcher] ‚ùå  ${t}`,n.message,n.status,n.code),{code:s=500,status:s,error:!0,ok:!1,message:n.message}}var s})(e,t,o,r)}));export{d as o};
